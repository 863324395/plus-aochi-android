2016年12月30日 18:44:25
# app测试概述
按照测试用例，进行单元测试编写。为什么要写单元测试：
- 提高代码质量，写出良好的单元测试对代码有较高的要求
- 方便代码重构和迭代，添加或者修改功能后，能够通过单元测试检测出对其他功能的影响
- 更换开发人员后更快接手项目，单元测试作为之前程序员代码设计方式的呈现

## 测试框架
    JUnit4 + Mockito + Dagger2 + Robolectric
    这个是Android单元测试最广泛使用的组合
### JUnit4
- 当前版本 4.12
- Java界用的最广泛，也是最基础的一个框架，其他的很多框架，包括后面的Robolectric，
都是基于或兼容JUnit4的。

### Mockito
> mock就是创建一个类的虚假的对象，在测试环境中，用来替换掉真实的对象，以达到两大目的：
验证这个对象的某些方法的调用情况，调用了多少次，参数是什么等等
指定这个对象的某些方法的行为，返回特定的值，或者是执行特定的动作

反过来说如果想要实现上面的两个目的，需要一个特定的对象，而这个对象就需要Mockito框架提供。

### Dagger2
这里对[Dagger2进行了简单说明](../common/DAGGER2.md)
依赖注入框架Dagger2除了在项目中管理对象，减少创建对象时的耦合外，另外一个重要作用就是用于单元测试；
想想如果我们在单元测试中需要处理对象的依赖，这是一件非常麻烦的事情，Dagger2和Mockito结合使用，大大降低测试
用例的编写难度。

### Robolectric
我们的单元测试，往往涉及到Android相关联的类，也就是说和android运行环境关联，如果这样，每运行一个
测试单元就需要启动一次android模拟器或者手机（额滴天），Robolectric框架能够实现在JVM上无法调用安卓相关的类，
这样大大的提高了android平台的单元测试。

## 框架配置
src目录下：
  - androidTest目录：进行的是和android平台相关的测试，需要android模拟器或者真机的支持；如果第三方测试框架
  需要在该目录下运行，gradle配置以androidTestCompile开头
  - test目录：该目录下的测试会在JVM上运行，相比androidTest速度更快，不需要android模拟器或者真机的支持；如果第三方
  测试框架需要在该目录下运行，gradle配置以testCompile开头

## 在项目中使用上述的框架进行单元测试
    **逐步添加中**

如果对单元测试想要更全面的了解，推荐一篇博客:[关于安卓单元测试，你需要知道的一切](http://www.jianshu.com/p/dc30338a3e84)





